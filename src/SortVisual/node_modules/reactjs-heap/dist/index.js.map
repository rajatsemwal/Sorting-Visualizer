{"version":3,"file":"index.js","sources":["../src/heap.ts"],"sourcesContent":["const DEFAULT_SCRIPT_ID = 'reactjs-heap';\n\n/**\n * Provides the Heap script to inject.\n */\nconst getHeapScript = (id: string | number) => `\n  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement(\"script\");r.type=\"text/javascript\",r.async=!0,r.src=\"https://cdn.heapanalytics.com/js/heap-\"+e+\".js\";var a=document.getElementsByTagName(\"script\")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=[\"addEventProperties\",\"addUserProperties\",\"clearEventProperties\",\"identify\",\"resetIdentity\",\"removeEventProperty\",\"setEventProperties\",\"track\",\"unsetEventProperty\"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};\n  heap.load(\"${id}\");\n`;\n\n/**\n * Initializes Heap tracking.\n */\nconst initialize = (id: string | number) => {\n  if (!id) {\n    throw new Error('You need to provide your Heap Analytics ID.');\n  }\n\n  if (!document) {\n    return;\n  }\n\n  const hasScript = !!document.getElementById(DEFAULT_SCRIPT_ID);\n\n  if (hasScript) {\n    return;\n  }\n\n  const script = document.createElement('script');\n\n  script.innerHTML = getHeapScript(id);\n  script.id = DEFAULT_SCRIPT_ID;\n  script.async = true;\n\n  document.body.appendChild(script);\n};\n\n/**\n * Object for manipulating Heap Analytics.\n */\nconst ReactHeap = {\n  initialize,\n};\n\nexport default ReactHeap;\n"],"names":[],"mappings":";;AAAA,IAAM,iBAAiB,GAAG,cAAc,CAAC;AAEzC;;;AAGA,IAAM,aAAa,GAAG,UAAC,EAAmB,IAAK,OAAA,iqBAEhC,EAAE,WAChB,GAAA,CAAC;AAEF;;;AAGA,IAAM,UAAU,GAAG,UAAC,EAAmB;IACrC,IAAI,CAAC,EAAE,EAAE;QACP,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;KAChE;IAED,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO;KACR;IAED,IAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;IAE/D,IAAI,SAAS,EAAE;QACb,OAAO;KACR;IAED,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAEhD,MAAM,CAAC,SAAS,GAAG,aAAa,CAAC,EAAE,CAAC,CAAC;IACrC,MAAM,CAAC,EAAE,GAAG,iBAAiB,CAAC;IAC9B,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;IAEpB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AACpC,CAAC,CAAC;AAEF;;;AAGA,IAAM,SAAS,GAAG;IAChB,UAAU,YAAA;CACX;;;;"}